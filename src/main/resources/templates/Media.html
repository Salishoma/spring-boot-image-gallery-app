<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
  <title>PixelTrice</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap.min.css">
</head>
<body>
<br>
<h1 class="text-center">Spring Boot Gallery Application
<a href="/media/add" class="btn btn-danger text-right">Add Media</a>
</h1>
<br><br>

<!--<div>-->
<!--    <a th:href="@{/logout}" class="btn btn-danger btn-customized">logout</a>-->
<!--</div>-->
<form th:action="@{/logout}" class="btn btn-danger btn-customized" method="post">
    <input type="submit" value="Sign Out"/>
</form>
<table id="filter" class="table table-striped table-bordered text-center">
        <thead>
            <tr>
                <th>SR. No.</th>
                <th>Name</th>
                <th>Image</th>
                <th>Description</th>
                <th>Price</th>
                <th>Created date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody th:with="count=0">
        <tr th:each = "mediaGallery, hh : ${media}">
                <td th:with="count=${count + 1}" th:text="${count}"></td>
                <td th:text="${mediaGallery.name}"></td>
                <td><a th:href="@{/media/display/{id}(id=${mediaGallery.id})}"><img th:src="${mediaGallery.media}" width="50px" height="50px"></a></td>
                <td th:text="${mediaGallery.description}"></td>
                <td th:text="${mediaGallery.price}"></td>
                <td th:text="${#dates.format({mediaGallery.createDate}, 'dd-MM-yyyy')}"/></td>
               <td>
                   <a th:href="@{/media/media-details/{id}(id=${mediaGallery.id})}" class="btn btn-info text-right">View</a>
                   <a th:href="@{/delete-media/{id}(id=${mediaGallery.id})}" class="btn btn-danger text-right">Delete</a>
               </td>
            </tr>
        </tbody>
    </table>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
	<script type="text/javascript">
	$(document).ready(function() {
	    $('#filter').DataTable();
	} );
	</script>
</body>
</html>
